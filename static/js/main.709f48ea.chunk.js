(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{46:function(e,n,t){},58:function(e,n,t){e.exports=t(85)},63:function(e,n,t){},68:function(e,n,t){},69:function(e,n,t){},70:function(e,n,t){},71:function(e,n,t){},72:function(e,n,t){},73:function(e,n,t){},74:function(e,n,t){},75:function(e,n,t){},76:function(e,n,t){},77:function(e,n,t){},78:function(e,n,t){},81:function(e,n,t){},82:function(e,n,t){},83:function(e,n,t){},84:function(e,n,t){},85:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(40),o=(t(63),t(8)),i=(t(68),t(69),function(e){var n=e.className,t=e.children,a=e.onClick;return r.a.createElement("button",{className:"".concat(n||""," c-bare-button"),onClick:a},t)}),u=(t(46),function(){return r.a.createElement("svg",{viewBox:"0 0 24 24",className:"c-icon"},r.a.createElement("rect",{height:"2",width:"24",y:"5"}),r.a.createElement("rect",{height:"2",width:"24",y:"11"}),r.a.createElement("rect",{height:"2",width:"24",y:"17"}))}),s=function(){return r.a.createElement("svg",{className:"c-icon",viewBox:"0 0 24 24"},r.a.createElement("polygon",{points:"19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12"}))},l=(t(70),function(e){var n=e.children,t=e.className,a=e.type,c=void 0===a?"text":a,o=e.placeholder,i=e.onChange;return r.a.createElement("input",{className:"".concat(t||""," c-input"),placeholder:o,type:c,onChange:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}(function(e){return i(e.target.value)})},n)}),m=(t(71),function(){return r.a.createElement("div",{className:"c-loading-spinner"},r.a.createElement("div",{className:"c-loading-spinner__dot"}),r.a.createElement("div",{className:"c-loading-spinner__dot"}),r.a.createElement("div",{className:"c-loading-spinner__dot"}),r.a.createElement("div",{className:"c-loading-spinner__dot"}))}),d=(t(72),function(e){var n=e.className,t=e.children;return r.a.createElement("span",{className:"".concat(n||""," c-text-heading-large")},t)}),f=(t(73),function(e){var n=e.className,t=e.children;return r.a.createElement("span",{className:"".concat(n||""," c-text-heading-medium")},t)}),b=(t(74),function(e){var n=e.className,t=e.children;return r.a.createElement("span",{className:"".concat(n||""," c-text-medium")},t)}),p=function(e){return"c-bottom-tabs__tab ".concat(e?" c-bottom-tabs__tab--selected":"")},E="SET_ALL_BASIC_SEASON_DATA_START";var O="SET_ALL_BASIC_SEASON_DATA_SUCCESS";var v="SET_CURRENT_SEASON_DATA_START";var g="SET_CURRENT_SEASON_DATA_SUCCESS";var h="INIT_APP";var _="OPEN_MENU";var j="CLOSE_MENU";var S="SELECT_SEASON";var N="GO_TO_FOOD_TAB";var C="GO_TO_RECIPES_TABS";var T="SEARCH_BAR_CHANGED";var y,w=t(5),D=function(e){return e.allBasicSeasonData},A=Object(w.a)(D,function(e){return e.isLoading}),L=Object(w.a)(D,function(e){return e.data}),k=function(e){return e.currentSeasonData},x=Object(w.a)(k,function(e){return e.isLoading}),R=Object(w.a)(k,function(e){return e.data}),I=Object(w.a)(R,function(e){return e&&e.food}),B=Object(w.a)(R,function(e){return e&&e.recipes}),U=Object(w.a)(k,function(e){return e.currentSeasonIndex});!function(e){e[e.FOOD=0]="FOOD",e[e.RECIPES=1]="RECIPES"}(y||(y={}));var F=function(e){return e.ui},M=Object(w.a)(F,function(e){return e.isMenuOpen}),P=Object(w.a)(F,function(e){return e.currentTab}),V=Object(w.a)(P,function(e){return e===y.FOOD}),G=Object(w.a)(P,function(e){return e===y.RECIPES}),H=Object(w.a)(F,function(e){return e.searchTerm&&e.searchTerm.toLowerCase()}),J=function(e,n){return n&&n.filter(function(n){var t=n.name;return!e||t.toLowerCase().includes(e)})},W=Object(w.a)(H,I,function(e,n){return J(e,n)}),z=Object(w.a)(H,B,function(e,n){return J(e,n)}),K=t(92),$=t(54),q=t(48),Q=[],X=function(e){return function(e){return new Promise(function(n){var t=document.createElement("img");t.src=e,Q.push(t),t.addEventListener("load",function(){n(t)})})}(e)},Y=Object({NODE_ENV:"production",PUBLIC_URL:""}).BACKEND_URL||"https://6usraevcmc.execute-api.eu-west-2.amazonaws.com/prod",Z=Object({NODE_ENV:"production",PUBLIC_URL:""}).SEASON_DATA_URL||"".concat(Y,"/season-data"),ee=t(87),ne=t(88),te=t(34),ae=t(89),re=t(56),ce=t(86),oe=t(90),ie=[S,_,j,N,C],ue=Object(K.a)(function(){return Object(re.a)(null).pipe(Object(ee.a)({type:h}))},function(e){return e.pipe(Object(q.a)(h,S),Object(ee.a)({type:v}))},function(e,n){return e.pipe(Object(q.a)(v),Object(ne.a)(n),Object(te.a)(function(e){var n=Object($.a)(e,2)[1];return U(n)}),Object(ae.a)(function(e){return function(e){return fetch("".concat(Z,"/").concat(e)).then(function(e){return e.json()})}(e)}),Object(te.a)(function(e){return{currentSeasonData:e,type:g}}))},function(e){return e.pipe(Object(q.a)(h),Object(ee.a)({type:E}))},function(e){return e.pipe(Object(q.a)(E),Object(ae.a)(function(){return fetch(Z).then(function(e){return e.json()})}),Object(te.a)(function(e){return function(e){return{seasonData:e,type:O}}(e)}))},function(e){return e.pipe(Object(ce.a)(function(e){var n=e.type;return ie.includes(n)}),Object(te.a)(function(e){var n=e.type;return ga("send","event",n,n)}),Object(oe.a)())}),se=t(19),le=t(91),me=t(7),de=function(){return{currentSeasonIndex:(new Date).getUTCMonth(),data:void 0,isLoading:!0}};var fe=function(){return{data:void 0,isLoading:!0}};var be=function(){return{currentTab:y.FOOD,isMenuOpen:!1}};var pe=Object(le.a)(),Ee=Object(se.d)(Object(se.c)({allBasicSeasonData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe(),n=arguments.length>1?arguments[1]:void 0;switch(n.type){case E:return Object(me.a)({},e,{isLoading:!0});case O:return Object(me.a)({},e,{data:n.seasonData,isLoading:!1});default:return e}},currentSeasonData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de(),n=arguments.length>1?arguments[1]:void 0;switch(n.type){case v:return Object(me.a)({},e,{isLoading:!0});case g:return Object(me.a)({},e,{data:n.currentSeasonData,isLoading:!1});case S:return Object(me.a)({},e,{currentSeasonIndex:n.seasonIndex});default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be(),n=arguments.length>1?arguments[1]:void 0;switch(n.type){case S:case j:return Object(me.a)({},e,{isMenuOpen:!1});case _:return Object(me.a)({},e,{isMenuOpen:!0});case N:return Object(me.a)({},e,{currentTab:y.FOOD});case C:return Object(me.a)({},e,{currentTab:y.RECIPES});case T:return Object(me.a)({},e,{searchTerm:n.newSearchTerm});default:return e}}}),Object(se.a)(pe));pe.run(ue);var Oe=Object(o.b)(function(e){return{isCurrentTabFood:V(e),isCurrentTabRecipes:G(e)}},function(e){return{goToFoodTab:function(){return e({type:N})},goToRecipesTab:function(){return e({type:C})}}})(function(e){var n=e.isCurrentTabFood,t=e.isCurrentTabRecipes,a=e.goToFoodTab,c=e.goToRecipesTab;return r.a.createElement("nav",{className:"c-bottom-tabs"},r.a.createElement(i,{className:p(n),onClick:a},"Food"),r.a.createElement(i,{className:p(t),onClick:c},"Recipes"))}),ve=(t(75),Object(o.b)(function(){return{}},function(e){return{onSearchChanged:function(n){return e(function(e){return{newSearchTerm:e,type:T}}(n))}}})(function(e){var n=e.onSearchChanged;return r.a.createElement(l,{className:"c-search-bar",onChange:function(e){return n(e)},placeholder:"Search"})})),ge=(t(76),t(18)),he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.enterDelay,t=void 0===n?0:n,a=e.exitDelay,r=void 0===a?0:a,c=e.enterDuration,o=void 0===c?500:c,i=e.exitDuration,u=void 0===i?500:i,s=e.type,l=void 0===s?"div":s;return ge.b[l]({enter:{delay:t,opacity:1,transition:{duration:o}},exit:{delay:r,opacity:0,transition:{duration:u}}})},_e=he(),je=Object(o.b)(function(e){return{allBasicSeasonData:L(e),currentSeasonIndex:U(e),isLoading:A(e),isMenuOpen:M(e)}},function(e){return{onClose:function(){return e({type:j})},onSeasonSelected:function(n){return e(function(e){return{seasonIndex:e,type:S}}(n))}}})(function(e){var n=e.allBasicSeasonData,t=e.currentSeasonIndex,a=e.isLoading,c=e.isMenuOpen,o=e.onSeasonSelected,u=e.onClose;return r.a.createElement("div",null,r.a.createElement(ge.a,null,c&&r.a.createElement(_e,{key:"season-menu-overlay",className:"c-season-menu__overlay",onClick:u})),r.a.createElement("nav",{className:"c-season-menu ".concat(c?"c-season-menu--is-open":"")},a?r.a.createElement("div",{className:"c-season-menu__loading-spinner-wrapper"},r.a.createElement(m,null)):n&&n.map(function(e,n){var a=e.name;return r.a.createElement(i,{key:a,className:"c-season-menu__button ".concat(n===t?"c-season-menu__button--selected":""),onClick:function(){return o(n)}},r.a.createElement(b,null,a))}),r.a.createElement(i,{className:"c-season-menu__close-btn",onClick:u},r.a.createElement(s,null))))}),Se=(t(77),Object(o.b)(function(){return{}},function(e){return{onMenuOpen:function(){return e({type:_})}}})(function(e){var n=e.onMenuOpen;return r.a.createElement("header",{className:"c-header"},r.a.createElement(i,{className:"c-header__btn",onClick:n},r.a.createElement(u,null)),r.a.createElement("h1",{className:"c-header__text"},r.a.createElement(d,null,"Eat Seasonal")),r.a.createElement(ve,null))})),Ne=(t(78),t(43)),Ce=t.n(Ne),Te=t(50),ye=t(51),we=t(52),De=t(55),Ae=t(53),Le=t(57),ke=(t(81),he()),xe=function(e){function n(e){var t;return Object(ye.a)(this,n),(t=Object(De.a)(this,Object(Ae.a)(n).call(this,e))).state={isVisible:!1},t}return Object(Le.a)(n,e),Object(we.a)(n,[{key:"componentDidMount",value:function(){var e=Object(Te.a)(Ce.a.mark(function e(){return Ce.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X(this.props.src);case 2:this.setState({isVisible:!0});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(ge.a,null,this.state.isVisible?r.a.createElement(ke,{key:"background-image-fade-in-out",className:"c-background-image-with-loading-spinner",style:{backgroundImage:"url(".concat(this.props.src,")")}},this.props.children):r.a.createElement(ke,{key:"loading-spinner-fade-in-out",className:"c-background-image-with-loading-spinner"},r.a.createElement(m,null)))}}]),n}(a.Component),Re=(t(82),function(e){var n=e.imageUrlSmall,t=e.name;return r.a.createElement("div",{className:"c-image-grid-item"},r.a.createElement("div",{className:"c-image-grid-item__inner"},r.a.createElement("div",{className:"c-image-grid-item__image"},r.a.createElement(xe,{src:n})),r.a.createElement(b,{className:"c-image-grid-item__text"},t)))}),Ie=(t(83),function(e){var n=e.data;return r.a.createElement("div",{className:"c-image-grid"},n&&n.length?n.map(function(e){return r.a.createElement(Re,{key:e.name,imageUrlSmall:e.imageUrlSmall,name:e.name})}):r.a.createElement(f,{className:"c-image-grid__no-results"},"No results found"))}),Be=Object(o.b)(function(e){return{food:W(e),isCurrentTabFood:V(e),isLoading:x(e),recipes:z(e)}})(function(e){var n=e.isCurrentTabFood,t=e.isLoading,a=e.food,c=e.recipes;return t?r.a.createElement("div",{className:"c-food-table__loading-spinner-wrapper"},r.a.createElement(m,null)):n?r.a.createElement(Ie,{data:a}):r.a.createElement(Ie,{data:c})}),Ue=function(){return r.a.createElement(Be,null)},Fe=(t(84),function(){return r.a.createElement(o.a,{store:Ee},r.a.createElement("div",{className:"c-app"},r.a.createElement(Se,null),r.a.createElement(je,null),r.a.createElement(Ue,null),r.a.createElement(Oe,null)))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Me=document.getElementById("root");Me&&Me.hasChildNodes()?Object(c.hydrate)(r.a.createElement(Fe,null),Me):Object(c.render)(r.a.createElement(Fe,null),Me),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[58,1,2]]]);
//# sourceMappingURL=main.709f48ea.chunk.js.map